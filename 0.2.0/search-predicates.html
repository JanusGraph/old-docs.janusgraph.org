<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;21.&nbsp;Search Predicates and Data Types</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="JanusGraph Documentation"><link rel="up" href="index-backends.html" title="Part&nbsp;IV.&nbsp;Index Backends"><link rel="prev" href="index-backends.html" title="Part&nbsp;IV.&nbsp;Index Backends"><link rel="next" href="index-parameters.html" title="Chapter&nbsp;22.&nbsp;Index Parameters and Full-Text Search"><script xmlns:d="http://docbook.org/ns/docbook" type="text/javascript" src="js/jquery/jquery-1.11.0.js"></script><script xmlns:d="http://docbook.org/ns/docbook" type="text/javascript" src="js/jquery/jquery-migrate-1.2.1.min.js"></script><link xmlns:d="http://docbook.org/ns/docbook" rel="stylesheet" id="inline-blob-janusgraph-docs-specific" href="css/docs.css" type="text/css" media="all"><link xmlns:d="http://docbook.org/ns/docbook" rel="apple-touch-icon" type="image/png" href="images/janusgraph-logomark.png"><script xmlns:d="http://docbook.org/ns/docbook" type="text/javascript">
      WebFontConfig = {
        google: {
          families: [
            "Lato:400,400italic,700,700italic:latin,greek-ext,cyrillic,latin-ext,greek,cyrillic-ext,vietnamese",
            "Open+Sans:400,400italic,700,700italic:latin,greek-ext,cyrillic,latin-ext,greek,cyrillic-ext,vietnamese",
            "Antic+Slab:400,400italic,700,700italic:latin,greek-ext,cyrillic,latin-ext,greek,cyrillic-ext,vietnamese"
          ]
        }
      };
      (function() {
      var wf = document.createElement('script');
      wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
        '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
	wf.type = 'text/javascript';
	wf.async = 'true';
	var s = document.getElementsByTagName('script')[0];
	s.parentNode.insertBefore(wf, s);
	})();
    </script></head><body xmlns:d="http://docbook.org/ns/docbook" bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div id="wrapper"><div class="header-wrapper"><header id="header"><ul class="header-list"><li class="header-item"><a href="http://janusgraph.org"><img src="images/janusgraph-logo.png" alt="JanusGraph" class="normal_logo"></a></li><li class="header-item-right"><a href="https://github.com/JanusGraph/janusgraph/releases">Download JanusGraph</a></li><li class="header-item-right dropdown"><a href="https://docs.janusgraph.org/latest/doc-versions.html">Other Doc Versions</a><div class="dropdown-content"><a href="https://docs.janusgraph.org/latest/index.html">Latest</a><a href="https://docs.janusgraph.org/0.3.0/index.html">Version 0.3.0</a><a href="https://docs.janusgraph.org/0.2.1/index.html">Version 0.2.1</a><a href="https://docs.janusgraph.org/0.2.0/index.html">Version 0.2.0</a><a href="https://docs.janusgraph.org/0.1.1/index.html">Version 0.1.1</a><a href="https://docs.janusgraph.org/0.1.0/index.html">Version 0.1.0</a></div></li><li class="header-item-right"><a href="index.html">Documentation (0.2.0)</a></li></ul></header></div><div id="main" class="clearfix width-100"><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">JanusGraph Documentation</a></span> &gt; <span class="breadcrumb-link"><a href="index-backends.html">Index Backends</a></span> &gt; <span class="breadcrumb-node">Search Predicates and Data Types</span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="search-predicates"></a>Chapter&nbsp;21.&nbsp;Search Predicates and Data Types</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="search-predicates.html#_compare_predicate">21.1. Compare Predicate</a></span></dt><dt><span class="section"><a href="search-predicates.html#_text_predicate">21.2. Text Predicate</a></span></dt><dt><span class="section"><a href="search-predicates.html#_geo_predicate">21.3. Geo Predicate</a></span></dt><dt><span class="section"><a href="search-predicates.html#_query_examples">21.4. Query Examples</a></span></dt><dt><span class="section"><a href="search-predicates.html#mixeddatatypes">21.5. Data Type Support</a></span></dt><dt><span class="section"><a href="search-predicates.html#geoshape">21.6. Geoshape Data Type</a></span></dt><dt><span class="section"><a href="search-predicates.html#_collections">21.7. Collections</a></span></dt></dl></div><p>This page lists all of the comparison predicates that JanusGraph supports in global graph search and local traversals.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_compare_predicate"></a>21.1.&nbsp;Compare Predicate</h2></div></div></div><p>The <code class="literal">Compare</code> enum specifies the following comparison predicates used for index query construction and used in the examples above:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="literal">eq</code> (equal)</li><li class="listitem"><code class="literal">neq</code> (not equal)</li><li class="listitem"><code class="literal">gt</code> (greater than)</li><li class="listitem"><code class="literal">gte</code> (greater than or equal)</li><li class="listitem"><code class="literal">lt</code> (less than)</li><li class="listitem"><code class="literal">lte</code> (less than or equal)</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_text_predicate"></a>21.2.&nbsp;Text Predicate</h2></div></div></div><p>The <code class="literal">Text</code> enum specifies the <a class="link" href="index-parameters.html#text-search" title="22.1.&nbsp;Full-Text Search">search operator</a> used to query for matching text or string values.  We differentiate between two types of predicates:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">Text search predicates which match against the individual words inside a text string after it has been tokenized. These predicates are not case sensitive.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><code class="literal">textContains</code>: is true if (at least) one word inside the text string matches the query string</li><li class="listitem"><code class="literal">textContainsPrefix</code>: is true if (at least) one word inside the text string begins with the query string</li><li class="listitem"><code class="literal">textContainsRegex</code>: is true if (at least) one word inside the text string matches the given regular expression</li><li class="listitem"><code class="literal">textContainsFuzzy</code>: is true if (at least) one word inside the text string is similar to the query String (based on Levenshtein edit distance)</li></ul></div></li><li class="listitem"><p class="simpara">String search predicates which match against the entire string value</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><code class="literal">textPrefix</code>: if the string value starts with the given query string</li><li class="listitem"><code class="literal">textRegex</code>: if the string value matches the given regular expression in its entirety</li><li class="listitem"><code class="literal">textFuzzy</code>: if the string value is similar to the given query string (based on Levenshtein edit distance)</li></ul></div></li></ul></div><p>See <a class="xref" href="index-parameters.html#text-search" title="22.1.&nbsp;Full-Text Search">Section&nbsp;22.1, &#8220;Full-Text Search&#8221;</a> for more information about full-text and string search.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_geo_predicate"></a>21.3.&nbsp;Geo Predicate</h2></div></div></div><p>The <code class="literal">Geo</code> enum specifies geo-location predicates.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="literal">geoIntersect</code> which holds true if the two geometric objects have at least one point in common (opposite of <code class="literal">geoDisjoint</code>).</li><li class="listitem"><code class="literal">geoWithin</code> which holds true if one geometric object contains the other.</li><li class="listitem"><code class="literal">geoDisjoint</code> which holds true if the two geometric objects have no points in common (opposite of <code class="literal">geoIntersect</code>).</li><li class="listitem"><code class="literal">geoContains</code> which holds true if one geometric object is contained by the other.</li></ul></div><p>See <a class="xref" href="index-parameters.html#geo-search" title="22.2.&nbsp;Geo Mapping">Section&nbsp;22.2, &#8220;Geo Mapping&#8221;</a> for more information about geo search.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_query_examples"></a>21.4.&nbsp;Query Examples</h2></div></div></div><p>The following query examples demonstrate some of the predicates on the tutorial graph.</p><pre class="programlisting">g.<span class="hl-gremlin-func">V(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"name"</span>,<span class="hl-gremlin-func"> </span><span class="hl-string">"hercules"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// 2) Find all vertices with an age greater than 50</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">V(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"age"</span>,<span class="hl-gremlin-func"> </span>gt<span class="hl-gremlin-func">(</span><span class="hl-number">50</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// or find all vertices between 1000 (inclusive) and 5000 (exclusive) years of age and order by increasing age</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">V(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"age"</span>,<span class="hl-gremlin-func"> </span>inside<span class="hl-gremlin-func">(</span><span class="hl-number">1000</span>,<span class="hl-gremlin-func"> </span><span class="hl-number">5000</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">order(</span><span class="hl-gremlin-func">)</span>.by<span class="hl-gremlin-func">(</span><span class="hl-string">"age"</span>,<span class="hl-gremlin-func"> </span>incr<span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// which returns the same result set as the following query but in reverse order</em>
g.<span class="hl-gremlin-func">V(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"age"</span>,<span class="hl-gremlin-func"> </span>inside<span class="hl-gremlin-func">(</span><span class="hl-number">1000</span>,<span class="hl-gremlin-func"> </span><span class="hl-number">5000</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">order(</span><span class="hl-gremlin-func">)</span>.by<span class="hl-gremlin-func">(</span><span class="hl-string">"age"</span>,<span class="hl-gremlin-func"> </span>decr<span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// 3) Find all edges where the place is at most 50 kilometers from the given latitude-longitude pair</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">E(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"place"</span>,<span class="hl-gremlin-func"> </span>geoWith<span class="hl-gremlin-func">in(</span>Geoshape.circle<span class="hl-gremlin-func">(</span><span class="hl-number">37.97</span>,<span class="hl-gremlin-func"> </span><span class="hl-number">23.72</span>,<span class="hl-gremlin-func"> </span><span class="hl-number">50</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// 4) Find all edges where reason contains the word "loves"</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">E(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"reason"</span>,<span class="hl-gremlin-func"> </span>textContains<span class="hl-gremlin-func">(</span><span class="hl-string">"loves"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// or all edges which contain two words (need to chunk into individual words)</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">E(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"reason"</span>,<span class="hl-gremlin-func"> </span>textContains<span class="hl-gremlin-func">(</span><span class="hl-string">"loves"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"reason"</span>,<span class="hl-gremlin-func"> </span>textContains<span class="hl-gremlin-func">(</span><span class="hl-string">"breezes"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// or all edges which contain words that start with "lov"</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">E(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"reason"</span>,<span class="hl-gremlin-func"> </span>textContainsPrefix<span class="hl-gremlin-func">(</span><span class="hl-string">"lov"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// or all edges which contain words that match the regular expression "br[ez]*s" in their entirety</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">E(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"reason"</span>,<span class="hl-gremlin-func"> </span>textContainsRegex<span class="hl-gremlin-func">(</span><span class="hl-string">"br[ez]*s"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// or all edges which contain words similar to "love"</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">E(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"reason"</span>,<span class="hl-gremlin-func"> </span>textContainsFuzzy<span class="hl-gremlin-func">(</span><span class="hl-string">"love"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">// 5) Find all vertices older than a thousand years and named "saturn"</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">V(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"age"</span>,<span class="hl-gremlin-func"> </span>gt<span class="hl-gremlin-func">(</span><span class="hl-number">1000</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"name"</span>,<span class="hl-gremlin-func"> </span><span class="hl-string">"saturn"</span><span class="hl-gremlin-func">)</span></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mixeddatatypes"></a>21.5.&nbsp;Data Type Support</h2></div></div></div><p>While JanusGraph&#8217;s composite indexes support any data type that can be stored in JanusGraph, the mixed indexes are limited to the following data types.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Byte</li><li class="listitem">Short</li><li class="listitem">Integer</li><li class="listitem">Long</li><li class="listitem">Float</li><li class="listitem">Double</li><li class="listitem">String</li><li class="listitem">Geoshape</li><li class="listitem">Date</li><li class="listitem">Instant</li><li class="listitem">UUID</li></ul></div><p>Additional data types will be supported in the future.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="geoshape"></a>21.6.&nbsp;Geoshape Data Type</h2></div></div></div><p>The Geoshape data type supports representing a point, circle, box, line, polygon, multi-point, multi-line and multi-polygon. Index backends currently support indexing points, circles, boxes, lines, polygons, multi-point, multi-line, multi-polygon and geometry collection.
Geospatial index lookups are only supported via mixed indexes.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Note:"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/note.png"></td><th align="left">Note:</th></tr><tr><td align="left" valign="top"><p>The Java Topology Suite (JTS) is currently required to use polygon, multi-polygon and geometry collection with polygons. JTS is not included in JanusGraph distributions by default due to its LGPL license. Users must download the JTS JAR file separately and include it in the classpath when full geometry support is required.</p></td></tr></table></div><p>To construct a Geoshape use the following methods:</p><pre class="programlisting"> <em class="hl-comment">//lat, lng</em>
Geoshape.point(<span class="hl-number">37.97</span>, <span class="hl-number">23.72</span>)
<em class="hl-comment">//lat, lng, radius in km</em>
Geoshape.circle(<span class="hl-number">37.97</span>, <span class="hl-number">23.72</span>, <span class="hl-number">50</span>)
<em class="hl-comment">//SW lat, SW lng, NE lat, NE lng</em>
Geoshape.box(<span class="hl-number">37.97</span>, <span class="hl-number">23.72</span>, <span class="hl-number">38.97</span>, <span class="hl-number">24.72</span>)
<em class="hl-comment">//WKT (requires JTS for polygon geometries)</em>
Geoshape.fromWkt(<span class="hl-string">"POLYGON ((35.4 48.9, 35.6 48.9, 35.6 49.1, 35.4 49.1, 35.4 48.9))"</span>)
<em class="hl-comment">//MultiPoint</em>
Geoshape.geoshape(Geoshape.getShapeFactory().multiPoint().pointXY(<span class="hl-number">60.0</span>, <span class="hl-number">60.0</span>).pointXY(<span class="hl-number">120.0</span>, <span class="hl-number">60.0</span>)
  .build())
<em class="hl-comment">//MultiLine</em>
Geoshape.geoshape(Geoshape.getShapeFactory().multiLineString()
  .add(Geoshape.getShapeFactory().lineString().pointXY(<span class="hl-number">59.0</span>, <span class="hl-number">60.0</span>).pointXY(<span class="hl-number">61.0</span>, <span class="hl-number">60.0</span>))
  .add(Geoshape.getShapeFactory().lineString().pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">60.0</span>).pointXY(<span class="hl-number">121.0</span>, <span class="hl-number">60.0</span>)).build())
<em class="hl-comment">//MultiPolygon (requires JTS)</em>
Geoshape.geoshape(Geoshape.getShapeFactory().multiPolygon()
  .add(Geoshape.getShapeFactory().polygon().pointXY(<span class="hl-number">59.0</span>, <span class="hl-number">59.0</span>).pointXY(<span class="hl-number">61.0</span>, <span class="hl-number">59.0</span>)
    .pointXY(<span class="hl-number">61.0</span>, <span class="hl-number">61.0</span>).pointXY(<span class="hl-number">59.0</span>, <span class="hl-number">61.0</span>).pointXY(<span class="hl-number">59.0</span>, <span class="hl-number">59.0</span>))
  .add(Geoshape.getShapeFactory().polygon().pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">59.0</span>).pointXY(<span class="hl-number">121.0</span>, <span class="hl-number">59.0</span>)
    .pointXY(<span class="hl-number">121.0</span>, <span class="hl-number">61.0</span>).pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">61.0</span>).pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">59.0</span>)).build())
<em class="hl-comment">//GeometryCollection (may requires JTS)</em>
Geoshape.geoshape(Geoshape.getGeometryCollectionBuilder()
  .add(Geoshape.getShapeFactory().pointXY(<span class="hl-number">60.0</span>, <span class="hl-number">60.0</span>))
  .add(Geoshape.getShapeFactory().lineString().pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">60.0</span>).pointXY(<span class="hl-number">121.0</span>, <span class="hl-number">60.0</span>).build())
  .add(Geoshape.getShapeFactory().polygon().pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">59.0</span>).pointXY(<span class="hl-number">121.0</span>, <span class="hl-number">59.0</span>)
    .pointXY(<span class="hl-number">121.0</span>, <span class="hl-number">61.0</span>).pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">61.0</span>).pointXY(<span class="hl-number">119.0</span>, <span class="hl-number">59.0</span>)).build())</pre><p>In addition, when importing a graph via GraphSON the geometry may be represented by GeoJSON:</p><pre class="programlisting"> <em class="hl-comment">//string</em>
<span class="hl-string">"37.97, 23.72"</span>
<em class="hl-comment">//list</em>
[<span class="hl-number">37.97</span>, <span class="hl-number">23.72</span>]
<em class="hl-comment">//GeoJSON feature</em>
{
  <span class="hl-string">"type"</span>: <span class="hl-string">"Feature"</span>,
  <span class="hl-string">"geometry"</span>: {
    <span class="hl-string">"type"</span>: <span class="hl-string">"Point"</span>,
    <span class="hl-string">"coordinates"</span>: [<span class="hl-number">125.6</span>, <span class="hl-number">10.1</span>]
  },
  <span class="hl-string">"properties"</span>: {
    <span class="hl-string">"name"</span>: <span class="hl-string">"Dinagat Islands"</span>
  }
}
<em class="hl-comment">//GeoJSON geometry</em>
{
  <span class="hl-string">"type"</span>: <span class="hl-string">"Point"</span>,
  <span class="hl-string">"coordinates"</span>: [<span class="hl-number">125.6</span>, <span class="hl-number">10.1</span>]
}</pre><p><a class="link" href="http://geojson.org/" target="_top">GeoJSON</a> may be specified as Point, Circle, LineString or Polygon. Polygons must be closed.
Note that unlike the JanusGraph API GeoJSON specifies coordinates as lng lat.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_collections"></a>21.7.&nbsp;Collections</h2></div></div></div><p>If you are using <a class="link" href="elasticsearch.html" title="Chapter&nbsp;25.&nbsp;Elasticsearch">Elasticsearch</a> then you can index properties with SET and LIST cardinality.
For instance:</p><pre class="programlisting">mgmt<span class="hl-gremlin-func"> </span>=<span class="hl-gremlin-func"> </span>graph.openManagement<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span>nameProperty<span class="hl-gremlin-func"> </span>=<span class="hl-gremlin-func"> </span>mgmt.makePropertyKey<span class="hl-gremlin-func">(</span><span class="hl-string">"names"</span><span class="hl-gremlin-func">)</span>.dataType<span class="hl-gremlin-func">(</span>String.class<span class="hl-gremlin-func">)</span>.cardinality<span class="hl-gremlin-func">(</span>Cardinality.SET<span class="hl-gremlin-func">)</span>.make<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span>mgmt.buildIndex<span class="hl-gremlin-func">(</span><span class="hl-string">"search"</span>,<span class="hl-gremlin-func"> </span>Vertex.class<span class="hl-gremlin-func">)</span>.addKey<span class="hl-gremlin-func">(</span>nameProperty,<span class="hl-gremlin-func"> </span>Mapping.STRING.asParameter<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">)</span>.buildMixedIndex<span class="hl-gremlin-func">(</span><span class="hl-string">"search"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span>mgmt.commit<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">//Insert a vertex</em><span class="hl-gremlin-func">
</span>person<span class="hl-gremlin-func"> </span>=<span class="hl-gremlin-func"> </span>graph.<span class="hl-gremlin-func">addVertex(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span>person.property<span class="hl-gremlin-func">(</span><span class="hl-string">"names"</span>,<span class="hl-gremlin-func"> </span><span class="hl-string">"Robert"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span>person.property<span class="hl-gremlin-func">(</span><span class="hl-string">"names"</span>,<span class="hl-gremlin-func"> </span><span class="hl-string">"Bob"</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span>graph.tx<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span>.commit<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func">
</span><em class="hl-comment">//Now query it</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">V(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"names"</span>,<span class="hl-gremlin-func"> </span><span class="hl-string">"Bob"</span><span class="hl-gremlin-func">)</span>.count<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">next(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func"> </span><em class="hl-comment">//1</em><span class="hl-gremlin-func">
</span>g.<span class="hl-gremlin-func">V(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">has(</span><span class="hl-string">"names"</span>,<span class="hl-gremlin-func"> </span><span class="hl-string">"Robert"</span><span class="hl-gremlin-func">)</span>.count<span class="hl-gremlin-func">(</span><span class="hl-gremlin-func">)</span>.<span class="hl-gremlin-func">next(</span><span class="hl-gremlin-func">)</span><span class="hl-gremlin-func"> </span><em class="hl-comment">//1</em></pre></div></div></div><div class="clearer"></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index-backends.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index-backends.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="index-parameters.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part&nbsp;IV.&nbsp;Index Backends&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;22.&nbsp;Index Parameters and Full-Text Search</td></tr></table></div><div class="footer-wrapper"><footer id="footer"><div class="copyright">
              Copyright &copy; 2017 JanusGraph Authors. All rights reserved.<br>
              The Linux Foundation has registered trademarks and uses trademarks. For a list of<br>
              trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage</a> page.<br>
              Cassandra, Groovy, HBase, Hadoop, Lucene, Solr, and TinkerPop are trademarks of the Apache Software Foundation.<br>
              Berkeley DB and Berkeley DB Java Edition are trademarks of Oracle.<br>
              Documentation generated with <a href="http://www.methods.co.nz/asciidoc/">AsciiDoc</a>, <a href="http://asciidoctor.org/">AsciiDoctor</a>, <a href="http://docbook.sourceforge.net/">DocBook</a>, and <a href="http://saxon.sourceforge.net/">Saxon</a>.
        	  </div></footer></div></div></body></html>